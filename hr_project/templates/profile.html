{% extends 'base.html' %}
{% block title %}í”„ë¡œí•„ Â· Mega Coffee HR{% endblock %}
{% block nav_profile_active %}active{% endblock %}

{% block content %}
<div class="page-header">
  <h1>í”„ë¡œí•„</h1>
</div>

<div class="card">
  <div style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid #eef2f7;">
    <div style="position: relative; cursor: pointer;" onclick="document.getElementById('profileImageInput').click()">
      {% if profile.profile_image %}
      <img src="{{ profile.profile_image }}" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);">
      {% else %}
      <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem; font-weight: 700; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);">
        {{ profile.name|first }}
      </div>
      {% endif %}
      <div style="position: absolute; bottom: 0; right: 0; width: 28px; height: 28px; background: #2563eb; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
        <span style="font-size: 14px;">ğŸ“·</span>
      </div>
      <form id="profileImageForm" method="post" enctype="multipart/form-data" style="display: none;">
        {% csrf_token %}
        <input type="file" id="profileImageInput" name="profile_image" accept="image/*" onchange="document.getElementById('profileImageForm').submit()">
      </form>
    </div>
    <div>
      <h2 style="margin: 0 0 0.5rem 0; font-size: 1.5rem; font-weight: 700;">{{ profile.name }}</h2>
      <div style="display: inline-block; background: #e0f2fe; color: #0369a1; padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600;">{{ profile.role }}</div>
    </div>
  </div>

  <div class="form-grid">
    <div class="form-field">
      <label>ğŸ‘¤ ì´ë¦„</label>
      <div style="padding: 10px 12px; background: #f8fafc; border-radius: 8px; border: 1px solid #e5e7eb;">{{ profile.name }}</div>
    </div>
    <div class="form-field">
      <label>ğŸ“§ ì´ë©”ì¼</label>
      <div style="padding: 10px 12px; background: #f8fafc; border-radius: 8px; border: 1px solid #e5e7eb;">{{ profile.email }}</div>
    </div>
    <div class="form-field">
      <label>ğŸ“± ì „í™”ë²ˆí˜¸</label>
      <div style="padding: 10px 12px; background: #f8fafc; border-radius: 8px; border: 1px solid #e5e7eb;">{{ profile.phone }}</div>
    </div>
    <div class="form-field">
      <label>ğŸ’¼ ì—­í• </label>
      <div style="padding: 10px 12px; background: #f8fafc; border-radius: 8px; border: 1px solid #e5e7eb;">{{ profile.role }}</div>
    </div>
  </div>
  
  <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #eef2f7;">
    <button class="btn primary" style="padding: 0.75rem 1.5rem;">âœï¸ í”„ë¡œí•„ ìˆ˜ì •</button>
  </div>
</div>

<div class="card">
  <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem;">
    <div style="display: flex; align-items: center; gap: 0.75rem;">
      <div style="width: 40px; height: 40px; background: #dbeafe; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.25rem;">ğŸª</div>
      <h2 style="margin: 0;">ë‚´ ë§¤ì¥</h2>
    </div>
    <button class="btn" style="font-size: 0.875rem;">+ ë§¤ì¥ ì¶”ê°€</button>
  </div>
  
  <div style="display: flex; flex-direction: column; gap: 0.75rem;">
    {% for store in stores %}
    <div style="padding: 1rem; background: #f8fafc; border: {% if store.is_primary %}2px solid #2563eb{% else %}1px solid #e5e7eb{% endif %}; border-radius: 10px; display: flex; align-items: center; justify-content: space-between;">
      <div>
        <div style="font-weight: 600; margin-bottom: 0.25rem;">{{ store.name }}</div>
        <div style="font-size: 0.875rem; color: #64748b;">{{ store.address }}</div>
      </div>
      {% if store.is_primary %}
      <span class="badge" style="background: #2563eb; color: white;">ëŒ€í‘œ ë§¤ì¥</span>
      {% else %}
      <button class="btn" style="padding: 0.375rem 0.75rem; font-size: 0.875rem;">ê´€ë¦¬</button>
      {% endif %}
    </div>
    {% empty %}
    <div style="padding: 2rem; text-align: center; color: #64748b;">
      ë“±ë¡ëœ ë§¤ì¥ì´ ì—†ìŠµë‹ˆë‹¤.
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
