{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<link rel="stylesheet" href="{% static 'css/main.css' %}">

<style>
  .app {
    display: grid !important;
    grid-template-columns: 280px 1fr !important;
    min-height: 100vh;
    overflow: hidden;
  }

  .sidebar {
    position: static !important;
    height: 100vh !important;
    background: #fff7dc;
    z-index: 1;
    display: flex;
    flex-direction: column; /* ë©”ë‰´ë¥¼ ìœ„ì•„ë˜ë¡œ ì°¢ê¸° ìœ„í•´ ì¶”ê°€ */
  }

  .content {
    height: 100vh !important;
    overflow-y: auto !important;
    background: #ffffff;
  }
  
  @media (max-width: 1024px) {
      .app {
          grid-template-columns: 280px 1fr !important;
      }
  }

  /* ì‚¬ì´ë“œë°” í•˜ë‹¨ ë©”ë‰´ë¥¼ ë§¨ ì•„ë˜ë¡œ ë°€ì–´ë‚´ëŠ” ìŠ¤íƒ€ì¼ */
  .menu-secondary {
      margin-top: auto; 
      padding-bottom: 20px;
  }
</style>
</head>

<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <img src="{% static 'img/logo.png' %}" alt="MEGA COFFEE" class="brand-logo" />
        <span class="brand-text">MEGA COFFEE</span>
      </div>
      
      <a href="{% url 'accounts:profile' %}" class="profile" style="text-decoration: none; color: inherit; cursor: pointer; display: flex; align-items: center;">
        <div class="avatar" style="display: flex; align-items: center; justify-content: center; background: #ffe494; color: #d97706; font-weight: bold;">
          {% if user.is_authenticated %}
            {{ user.username|first|upper }}
          {% else %}
            ?
          {% endif %}
        </div>
        
        <div class="profile-info">
          {% if user.is_authenticated %}
            <div class="name">{{ user.username }} ì ì¥ë‹˜</div>
            <div class="role">{{ user.store.name|default:"ë§¤ì¥ ë¯¸ë“±ë¡" }}</div>
          {% else %}
            <div class="name">ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”</div>
            <div class="role">MEGA HR SYSTEM</div>
          {% endif %}
        </div>
      </a>

      <nav class="menu">
        <a href="{% url 'attendances:attendances' %}" class="menu-item {% block nav_attendance_active %}{% endblock %}">
          <span class="icon">ğŸ—“ï¸</span>
          <span>ê·¼íƒœ</span>
        </a>
        <a href="{% url 'employees:list' %}" class="menu-item {% block nav_employees_active %}{% endblock %}">
          <span class="icon">ğŸ‘¥</span>
          <span>ì§ì› ê´€ë¦¬</span>
        </a>
        <a href="{% url 'wages:wages' %}" class="menu-item {% block nav_wages_active %}{% endblock %}">
          <span class="icon">ğŸ§¾</span>
          <span>ê¸‰ì—¬</span>
        </a>
      </nav>

      <div class="menu-secondary">
        {% if user.is_authenticated %}
          <a href="{% url 'accounts:profile' %}" class="menu-item {% block nav_profile_active %}{% endblock %}"><span class="icon">ğŸ‘¤</span><span>Profile</span></a>
          <a href="{% url 'accounts:profile' %}" class="menu-item {% block nav_setting_active %}{% endblock %}"><span class="icon">âš™ï¸</span><span>Setting</span></a>
        {% else %}
          <a href="{% url 'accounts:login' %}" class="menu-item">
            <span class="icon">ğŸ”‘</span><span>Login</span>
          </a>
          <a href="{% url 'accounts:signup' %}" class="menu-item" style="background: #2962ff; color: white; border-radius: 8px; margin: 10px 20px 0 20px; justify-content: center;">
            <span class="icon" style="margin-right: 5px;">âœ¨</span><span>Sign Up</span>
          </a>
        {% endif %}
      </div>
  </aside>
  <main class="content">
    <section class="page">
      {% block content %}{% endblock %}
    </section>
  </main>
  </div>
</body>
</html>